<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle Financeiro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        @keyframes gradientBG {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 20px 0;
            color: white;
            margin-bottom: 30px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .dashboard {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            flex: 1;
            min-width: 250px;
            background: rgba(255, 255, 255, 0.92);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h2 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #1a2a6c;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card h2 i {
            font-size: 1.8rem;
        }

        .value {
            font-size: 2.2rem;
            font-weight: bold;
            text-align: center;
        }

        .positive {
            color: #2ecc71;
        }

        .negative {
            color: #e74c3c;
        }

        .tabs {
            display: flex;
            background: white;
            border-radius: 12px 12px 0 0;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }

        .tab-button {
            flex: 1;
            padding: 18px 20px;
            text-align: center;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            color: #495057;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab-button:hover {
            background: #e9ecef;
        }

        .tab-button.active {
            background: white;
            color: #1a2a6c;
            border-bottom: 3px solid #1a2a6c;
        }

        .tab-content {
            background: white;
            border-radius: 0 0 12px 12px;
            padding: 30px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
        }

        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th,
        td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }

        th {
            background-color: #1a2a6c;
            color: white;
            font-weight: 600;
        }

        tbody tr:hover {
            background-color: #f8f9fa;
        }

        tfoot {
            font-weight: bold;
            background-color: #f1f3f5;
        }

        tfoot td {
            font-size: 1.1rem;
        }

        .pago {
            background-color: #d4edda;
            color: #155724;
        }

        .pendente {
            background-color: #fff3cd;
            color: #856404;
        }

        input,
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: #1a2a6c;
            box-shadow: 0 0 0 3px rgba(26, 42, 108, 0.1);
        }

        .actions {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #1a2a6c;
            color: white;
        }

        .btn-primary:hover {
            background: #15225a;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
            transform: translateY(-2px);
        }

        .btn i {
            font-size: 1.1rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-row>div {
            flex: 1;
        }

        .footer-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .btn-large {
            padding: 15px 30px;
            font-size: 1.1rem;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            padding: 30px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.8rem;
            cursor: pointer;
            color: #6c757d;
        }

        @media (max-width: 768px) {
            .dashboard {
                flex-direction: column;
            }

            .form-row {
                flex-direction: column;
                gap: 10px;
            }

            .footer-buttons {
                flex-direction: column;
                align-items: center;
            }

            .btn-large {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-wallet"></i> Controle Financeiro Pessoal</h1>
            <p>Gerencie suas entradas, sa√≠das e saldo de forma simples e eficiente</p>
        </header>

        <div class="dashboard">
            <div class="card">
                <h2><i class="fas fa-arrow-down"></i> Total de Entradas</h2>
                <div class="value positive" id="dashboard-entradas">R$ 0,00</div>
            </div>
            <div class="card">
                <h2><i class="fas fa-arrow-up"></i> Total de Sa√≠das</h2>
                <div class="value" id="dashboard-saidas">R$ 0,00</div>
            </div>
            <div class="card">
                <h2><i class="fas fa-scale-balanced"></i> Saldo Final</h2>
                <div class="value" id="dashboard-saldo">R$ 0,00</div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab-button active" onclick="openTab('entradas')">Entradas</button>
            <button class="tab-button" onclick="openTab('saidas')">Sa√≠das</button>
            <button class="tab-button" onclick="openTab('resumo')">Resumo</button>
        </div>

        <div id="entradas" class="tab-content">
            <h2><i class="fas fa-arrow-down"></i> Entradas</h2>
            <div class="table-container">
                <table id="tblEntradas">
                    <thead>
                        <tr>
                            <th>Descri√ß√£o</th>
                            <th>Valor (R$)</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dados ser√£o inseridos via JS -->
                    </tbody>
                    <tfoot>
                        <tr>
                            <td>Total de Entradas</td>
                            <td id="totalEntradas">R$ 0,00</td>
                            <td><button class="btn btn-success" onclick="addEntrada()"><i class="fas fa-plus"></i>
                                    Adicionar</button></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>

        <div id="saidas" class="tab-content" style="display:none">
            <h2><i class="fas fa-arrow-up"></i> Sa√≠das</h2>
            <div class="table-container">
                <table id="tblSaidas">
                    <thead>
                        <tr>
                            <th>Categoria</th>
                            <th>Descri√ß√£o</th>
                            <th>Valor (R$)</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dados ser√£o inseridos via JS -->
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="2">Total de Sa√≠das</td>
                            <td id="totalSaidas">R$ 0,00</td>
                            <td colspan="2"><button class="btn btn-success" onclick="addSaida()"><i
                                        class="fas fa-plus"></i> Adicionar</button></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>

        <div id="resumo" class="tab-content" style="display:none">
            <h2><i class="fas fa-file-invoice-dollar"></i> Resumo Financeiro</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Valor (R$)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Total de Entradas</td>
                            <td id="resumoEntradas">R$ 0,00</td>
                        </tr>
                        <tr>
                            <td>Total de Sa√≠das</td>
                            <td id="resumoSaidas">R$ 0,00</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td><strong>Saldo Final</strong></td>
                            <td id="saldoFinal">R$ 0,00</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>

        <div class="footer-buttons">
            <button class="btn btn-primary btn-large" onclick="gerarPDF()"><i class="fas fa-file-pdf"></i> Exportar para
                PDF</button>
            <button class="btn btn-success btn-large" onclick="resetData()"><i class="fas fa-sync-alt"></i> Reiniciar
                Dados</button>
        </div>
    </div>

    <!-- Modal para adicionar nova entrada -->
    <div id="entradaModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('entradaModal')">&times;</span>
            <h2><i class="fas fa-plus-circle"></i> Adicionar Nova Entrada</h2>
            <div class="form-group">
                <label for="entradaDescricao">Descri√ß√£o</label>
                <input type="text" id="entradaDescricao" placeholder="Ex: Sal√°rio">
            </div>
            <div class="form-group">
                <label for="entradaValor">Valor (R$)</label>
                <input type="text" id="entradaValor" placeholder="Ex: 1500,00">
            </div>
            <button class="btn btn-primary" onclick="saveEntrada()"><i class="fas fa-save"></i> Salvar Entrada</button>
        </div>
    </div>

    <!-- Modal para adicionar nova sa√≠da -->
    <div id="saidaModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('saidaModal')">&times;</span>
            <h2><i class="fas fa-plus-circle"></i> Adicionar Nova Sa√≠da</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="saidaCategoria">Categoria</label>
                    <select id="saidaCategoria">
                        <option value="üí≥ Cart√£o de Cr√©dito">üí≥ Cart√£o de Cr√©dito</option>
                        <option value="üåê Internet & Celular">üåê Internet & Celular</option>
                        <option value="üßæ Contas Fixas">üßæ Contas Fixas</option>
                        <option value="üíá Cuidado Pessoal">üíá Cuidado Pessoal</option>
                        <option value="üîß Manuten√ß√£o">üîß Manuten√ß√£o</option>
                        <option value="üçî Alimenta√ß√£o">üçî Alimenta√ß√£o</option>
                        <option value="‚ö∞Ô∏è Outros Gastos">‚ö∞Ô∏è Outros Gastos</option>
                        <option value="üí∏ Outros Gastos">üí∏ Outros Gastos</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="saidaStatus">Status</label>
                    <select id="saidaStatus">
                        <option value="Pago">Pago</option>
                        <option value="Pendente">Pendente</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="saidaDescricao">Descri√ß√£o</label>
                <input type="text" id="saidaDescricao" placeholder="Ex: Pagamento de conta">
            </div>
            <div class="form-group">
                <label for="saidaValor">Valor (R$)</label>
                <input type="text" id="saidaValor" placeholder="Ex: 250,00">
            </div>
            <button class="btn btn-primary" onclick="saveSaida()"><i class="fas fa-save"></i> Salvar Sa√≠da</button>
        </div>
    </div>

    <script>
        // Dados iniciais
        let entradas = [
            { descricao: 'Sal√°rio', valor: 1446.64 },
            { descricao: 'Dinheiro do lanche', valor: 130.00 },
            { descricao: 'Meta de Vendas (batida)', valor: 50.00 },
            { descricao: 'Meta Salgado (batida)', valor: 50.00 },
            { descricao: 'Meta √Ågua (batida)', valor: 60.00 },
            { descricao: 'Gratifica√ß√£o Comemora√ß√£o', valor: 20.00 }
        ];

        let saidas = [
            { categoria: 'üí≥ Cart√£o de Cr√©dito', descricao: 'Nubank', valor: 683.14, status: 'Pago' },
            { categoria: 'üí≥ Cart√£o de Cr√©dito', descricao: 'Banco do Brasil (Ourocard)', valor: 954.22, status: 'Pendente' },
            { categoria: 'üí≥ Cart√£o de Cr√©dito', descricao: 'Ita√∫', valor: 327.00, status: 'Pago' },
            { categoria: 'üåê Internet & Celular', descricao: 'Pal√°cio de Cristal', valor: 79.90, status: 'Pendente' },
            { categoria: 'üåê Internet & Celular', descricao: 'Pal√°cio de Ver√£o', valor: 79.90, status: 'Pendente' },
            { categoria: 'üåê Internet & Celular', descricao: 'Brisanet (celular)', valor: 29.99, status: 'Pago' },
            { categoria: 'üßæ Contas Fixas', descricao: 'Energia El√©trica (Enel)', valor: 220.94, status: 'Pendente' },
            { categoria: 'üíá Cuidado Pessoal', descricao: 'Corte de cabelo + Sobrancelha', valor: 25.00, status: 'Pago' },
            { categoria: 'üîß Manuten√ß√£o', descricao: 'Modelagem + Manuten√ß√£o do Aparelho', valor: 211.00, status: 'Pago' },
            { categoria: '‚ö∞Ô∏è Outros Gastos', descricao: 'Funer√°ria', valor: 102.50, status: 'Pago' },
            { categoria: 'üçî Alimenta√ß√£o', descricao: 'Sandu√≠che (Medeiros)', valor: 41.00, status: 'Pago' },
            { categoria: 'üí∏ Outros Gastos', descricao: 'Conta da Mam√£e', valor: 60.00, status: 'Pago' }
        ];

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', () => {
            renderizarTabelas();
            calcularTotais();
        });

        // Fun√ß√µes principais
        function renderizarTabelas() {
            renderEntradas();
            renderSaidas();
        }

        function renderEntradas() {
            const tbody = document.querySelector('#tblEntradas tbody');
            tbody.innerHTML = '';

            entradas.forEach((item, index) => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${item.descricao}</td>
                    <td>${formatarMoeda(item.valor)}</td>
                    <td class="actions">
                        <button class="btn btn-primary" onclick="editarEntrada(${index})"><i class="fas fa-edit"></i></button>
                        <button class="btn btn-danger" onclick="removerEntrada(${index})"><i class="fas fa-trash"></i></button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        function renderSaidas() {
            const tbody = document.querySelector('#tblSaidas tbody');
            tbody.innerHTML = '';

            saidas.forEach((item, index) => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${item.categoria}</td>
                    <td>${item.descricao}</td>
                    <td>${formatarMoeda(item.valor)}</td>
                    <td class="${item.status === 'Pago' ? 'pago' : 'pendente'}">${item.status}</td>
                    <td class="actions">
                        <button class="btn btn-primary" onclick="editarSaida(${index})"><i class="fas fa-edit"></i></button>
                        <button class="btn btn-danger" onclick="removerSaida(${index})"><i class="fas fa-trash"></i></button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        function calcularTotais() {
            // Entradas
            const totalEntradas = entradas.reduce((sum, item) => sum + item.valor, 0);
            document.getElementById('totalEntradas').textContent = formatarMoeda(totalEntradas);
            document.getElementById('resumoEntradas').textContent = formatarMoeda(totalEntradas);
            document.getElementById('dashboard-entradas').textContent = formatarMoeda(totalEntradas);

            // Sa√≠das
            const totalSaidas = saidas.reduce((sum, item) => sum + item.valor, 0);
            document.getElementById('totalSaidas').textContent = formatarMoeda(totalSaidas);
            document.getElementById('resumoSaidas').textContent = formatarMoeda(totalSaidas);
            document.getElementById('dashboard-saidas').textContent = formatarMoeda(totalSaidas);

            // Saldo
            const saldo = totalEntradas - totalSaidas;
            document.getElementById('saldoFinal').textContent = formatarMoeda(saldo);
            document.getElementById('dashboard-saldo').textContent = formatarMoeda(saldo);

            // Estiliza√ß√£o do saldo
            const saldoElem = document.getElementById('dashboard-saldo');
            saldoElem.className = 'value ' + (saldo < 0 ? 'negative' : 'positive');
        }

        function addEntrada() {
            document.getElementById('entradaDescricao').value = '';
            document.getElementById('entradaValor').value = '';
            openModal('entradaModal');
        }

        function saveEntrada() {
            const descricao = document.getElementById('entradaDescricao').value;
            const valor = parseFloat(document.getElementById('entradaValor').value.replace(',', '.'));

            if (!descricao || isNaN(valor)) {
                alert('Por favor, preencha todos os campos corretamente!');
                return;
            }

            entradas.push({ descricao, valor });
            closeModal('entradaModal');
            renderizarTabelas();
            calcularTotais();
        }

        function editarEntrada(index) {
            document.getElementById('entradaDescricao').value = entradas[index].descricao;
            document.getElementById('entradaValor').value = entradas[index].valor;
            openModal('entradaModal');

            // Substitui a entrada ao salvar
            const saveBtn = document.querySelector('#entradaModal .btn');
            saveBtn.onclick = function () {
                const descricao = document.getElementById('entradaDescricao').value;
                const valor = parseFloat(document.getElementById('entradaValor').value.replace(',', '.'));

                if (!descricao || isNaN(valor)) {
                    alert('Por favor, preencha todos os campos corretamente!');
                    return;
                }

                entradas[index] = { descricao, valor };
                closeModal('entradaModal');
                renderizarTabelas();
                calcularTotais();
            };
        }

        function removerEntrada(index) {
            if (confirm('Tem certeza que deseja remover esta entrada?')) {
                entradas.splice(index, 1);
                renderEntradas();
                calcularTotais();
            }
        }

        function addSaida() {
            document.getElementById('saidaCategoria').value = 'üí≥ Cart√£o de Cr√©dito';
            document.getElementById('saidaDescricao').value = '';
            document.getElementById('saidaValor').value = '';
            document.getElementById('saidaStatus').value = 'Pendente';
            openModal('saidaModal');
        }

        function saveSaida() {
            const categoria = document.getElementById('saidaCategoria').value;
            const descricao = document.getElementById('saidaDescricao').value;
            const valor = parseFloat(document.getElementById('saidaValor').value.replace(',', '.'));
            const status = document.getElementById('saidaStatus').value;

            if (!descricao || isNaN(valor)) {
                alert('Por favor, preencha todos os campos corretamente!');
                return;
            }

            saidas.push({ categoria, descricao, valor, status });
            closeModal('saidaModal');
            renderizarTabelas();
            calcularTotais();
        }

        function editarSaida(index) {
            document.getElementById('saidaCategoria').value = saidas[index].categoria;
            document.getElementById('saidaDescricao').value = saidas[index].descricao;
            document.getElementById('saidaValor').value = saidas[index].valor;
            document.getElementById('saidaStatus').value = saidas[index].status;
            openModal('saidaModal');

            // Substitui a sa√≠da ao salvar
            const saveBtn = document.querySelector('#saidaModal .btn');
            saveBtn.onclick = function () {
                const categoria = document.getElementById('saidaCategoria').value;
                const descricao = document.getElementById('saidaDescricao').value;
                const valor = parseFloat(document.getElementById('saidaValor').value.replace(',', '.'));
                const status = document.getElementById('saidaStatus').value;

                if (!descricao || isNaN(valor)) {
                    alert('Por favor, preencha todos os campos corretamente!');
                    return;
                }

                saidas[index] = { categoria, descricao, valor, status };
                closeModal('saidaModal');
                renderizarTabelas();
                calcularTotais();
            };
        }

        function removerSaida(index) {
            if (confirm('Tem certeza que deseja remover esta sa√≠da?')) {
                saidas.splice(index, 1);
                renderSaidas();
                calcularTotais();
            }
        }

        function gerarPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // T√≠tulo
            doc.setFontSize(20);
            doc.text("Relat√≥rio Financeiro", 105, 20, null, null, 'center');
            doc.setFontSize(12);
            doc.text(`Gerado em: ${new Date().toLocaleDateString()}`, 105, 28, null, null, 'center');

            // Tabela de Entradas
            doc.autoTable({
                startY: 35,
                head: [['Descri√ß√£o', 'Valor (R$)']],
                body: entradas.map(item => [item.descricao, formatarMoeda(item.valor)]),
                theme: 'grid',
                headStyles: { fillColor: [26, 42, 108] },
                margin: { top: 10 }
            });

            // Tabela de Sa√≠das
            doc.autoTable({
                startY: doc.lastAutoTable.finalY + 10,
                head: [['Categoria', 'Descri√ß√£o', 'Valor (R$)', 'Status']],
                body: saidas.map(item => [item.categoria, item.descricao, formatarMoeda(item.valor), item.status]),
                theme: 'grid',
                headStyles: { fillColor: [26, 42, 108] },
                didDrawCell: function (data) {
                    if (data.section === 'body' && data.column.index === 3) {
                        if (data.cell.raw === 'Pago') {
                            doc.setTextColor(21, 87, 36);
                            doc.setFillColor(212, 237, 218);
                        } else {
                            doc.setTextColor(133, 100, 4);
                            doc.setFillColor(255, 243, 205);
                        }
                        doc.rect(data.cell.x, data.cell.y, data.cell.width, data.cell.height, 'F');
                        doc.text(data.cell.raw, data.cell.x + data.cell.width / 2, data.cell.y + data.cell.height / 2 + 2, { align: 'center' });
                        return false;
                    }
                }
            });

            // Resumo
            const totalEntradas = entradas.reduce((a, b) => a + b.valor, 0);
            const totalSaidas = saidas.reduce((a, b) => a + b.valor, 0);
            const saldo = totalEntradas - totalSaidas;

            doc.autoTable({
                startY: doc.lastAutoTable.finalY + 10,
                body: [
                    ['Total de Entradas', formatarMoeda(totalEntradas)],
                    ['Total de Sa√≠das', formatarMoeda(totalSaidas)],
                    ['Saldo Final', formatarMoeda(saldo)]
                ],
                theme: 'grid',
                headStyles: { fillColor: [26, 42, 108] },
                bodyStyles: { fontSize: 14 },
                styles: { fontStyle: 'bold' },
                didDrawCell: function (data) {
                    if (data.section === 'body' && data.row.index === 2) {
                        doc.setTextColor(saldo < 0 ? 231 : 46, saldo < 0 ? 76 : 204, saldo < 0 ? 60 : 113);
                    }
                }
            });

            doc.save(`relatorio-financeiro-${new Date().toISOString().slice(0, 10)}.pdf`);
        }

        function resetData() {
            if (confirm('Tem certeza que deseja reiniciar todos os dados? Isso apagar√° todas as informa√ß√µes atuais.')) {
                entradas = [];
                saidas = [];
                renderizarTabelas();
                calcularTotais();
            }
        }

        // Fun√ß√µes auxiliares
        function formatarMoeda(valor) {
            return 'R$ ' + parseFloat(valor).toLocaleString('pt-BR', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
        }

        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(tabName).style.display = 'block';
            event.currentTarget.classList.add('active');
        }

        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
    </script>
</body>

</html>